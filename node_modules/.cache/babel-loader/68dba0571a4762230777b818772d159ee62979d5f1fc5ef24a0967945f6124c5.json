{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\Sweet-Dreams-Bakery-master\\\\src\\\\Components\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\nimport { useParams, useHistory } from 'react-router-dom';\nimport useFetch from '../useFetch';\nimport { useState } from 'react';\nimport Cookies from 'js-cookie'; // Import js-cookie\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    data: product,\n    isPending,\n    error\n  } = useFetch('http://localhost:3000/products/' + id);\n  const history = useHistory();\n  const [cartMessage, setCartMessage] = useState('');\n\n  // Handle add to cart functionality using js-cookie\n  const addToCart = () => {\n    // Get the existing cart from cookies\n    let cart = Cookies.get('cart');\n    cart = cart ? JSON.parse(cart) : [];\n\n    // Check if the product is already in the cart\n    const productExists = cart.find(item => item.id === product.id);\n    if (!productExists) {\n      // Add the product to the cart\n      cart.push({\n        ...product,\n        quantity: 1\n      });\n\n      // Save the updated cart back to cookies using js-cookie\n      Cookies.set('cart', JSON.stringify(cart), {\n        expires: 7\n      }); // Store cart in cookies for 7 days\n\n      // Show success message\n      setCartMessage('Product added to cart!');\n      // Dispatch an event to update the Navbar\n      window.dispatchEvent(new Event('cartUpdated'));\n    } else {\n      setCartMessage('Product is already in the cart.');\n    }\n\n    // Clear the message after 3 seconds\n    setTimeout(() => setCartMessage(''), 3000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ProductDetails mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mx-5\",\n      children: \"Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      children: [isPending && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 31\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 27\n      }, this), product && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-details card shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image,\n              alt: product.name,\n              className: \"img-fluid rounded shadow-sm product-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"product-title mb-4\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted\",\n              children: product.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Description: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 36\n              }, this), product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Ingredients: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this), product.ingredients.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Price: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), \"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `availability-status ${product.availability ? 'text-success' : 'text-danger'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Availability: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 37\n              }, this), product.availability ? 'In Stock' : 'Out of Stock']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stock-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Stock: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this), product.stock, \" units available\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn text-white btn-lg add-to-cart-button mt-4\",\n              onClick: addToCart,\n              disabled: !product.availability,\n              children: product.availability ? 'Add to Cart' : 'Out of Stock'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this), cartMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info mt-3\",\n              children: cartMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductDetails, \"hIAK0mksoDmeG4uf+LwUfHjVS7U=\", false, function () {\n  return [useParams, useFetch, useHistory];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["useParams","useHistory","useFetch","useState","Cookies","jsxDEV","_jsxDEV","ProductDetails","_s","id","data","product","isPending","error","history","cartMessage","setCartMessage","addToCart","cart","get","JSON","parse","productExists","find","item","push","quantity","set","stringify","expires","window","dispatchEvent","Event","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","image","alt","name","category","description","ingredients","join","price","availability","stock","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Downloads/Sweet-Dreams-Bakery-master/src/Components/ProductDetails.js"],"sourcesContent":["import { useParams, useHistory } from 'react-router-dom';\nimport useFetch from '../useFetch';\nimport { useState } from 'react';\nimport Cookies from 'js-cookie'; // Import js-cookie\n\nconst ProductDetails = () => {\n    const { id } = useParams();\n    const { data: product, isPending, error } = useFetch('http://localhost:3000/products/' + id);\n    const history = useHistory();\n    const [cartMessage, setCartMessage] = useState('');\n\n    // Handle add to cart functionality using js-cookie\n    const addToCart = () => {\n        // Get the existing cart from cookies\n        let cart = Cookies.get('cart');\n        cart = cart ? JSON.parse(cart) : [];\n\n        // Check if the product is already in the cart\n        const productExists = cart.find(item => item.id === product.id);\n\n        if (!productExists) {\n            // Add the product to the cart\n            cart.push({ ...product, quantity: 1 });\n\n            // Save the updated cart back to cookies using js-cookie\n            Cookies.set('cart', JSON.stringify(cart), { expires: 7 }); // Store cart in cookies for 7 days\n\n            // Show success message\n            setCartMessage('Product added to cart!');\n            // Dispatch an event to update the Navbar\n            window.dispatchEvent(new Event('cartUpdated'));\n        } else {\n            setCartMessage('Product is already in the cart.');\n        }\n\n        // Clear the message after 3 seconds\n        setTimeout(() => setCartMessage(''), 3000);\n    };\n\n    return (\n        <div className=\"ProductDetails mb-5\">\n            <h1 className=\"mx-5\">Details</h1>\n            <div className=\"container my-5\">\n                {isPending && <div className=\"text-center\">Loading...</div>}\n                {error && <div className=\"alert alert-danger\">{error}</div>}\n                {product && (\n                    <div className=\"product-details card shadow-lg\">\n                        <div className=\"row\">\n                            {/* Product Image */}\n                            <div className=\"col-md-6\">\n                                <img\n                                    src={product.image}\n                                    alt={product.name}\n                                    className=\"img-fluid rounded shadow-sm product-image\"\n                                />\n                            </div>\n\n                            {/* Product Information */}\n                            <div className=\"col-md-6\">\n                                <h1 className=\"product-title mb-4\">{product.name}</h1>\n                                <p className=\"text-muted\">{product.category}</p>\n                                <hr />\n                                <p><strong>Description: </strong>{product.description}</p>\n\n                                {/* Ingredients */}\n                                <p>\n                                    <strong>Ingredients: </strong>\n                                    {product.ingredients.join(', ')}\n                                </p>\n\n                                {/* Price and Availability */}\n                                <p className=\"product-price\">\n                                    <strong>Price: </strong>${product.price}\n                                </p>\n                                <p className={`availability-status ${product.availability ? 'text-success' : 'text-danger'}`}>\n                                    <strong>Availability: </strong>\n                                    {product.availability ? 'In Stock' : 'Out of Stock'}\n                                </p>\n\n                                {/* Stock */}\n                                <p className=\"stock-info\">\n                                    <strong>Stock: </strong>{product.stock} units available\n                                </p>\n\n                                {/* Add to Cart Button */}\n                                <button\n                                    className=\"btn text-white btn-lg add-to-cart-button mt-4\"\n                                    onClick={addToCart}\n                                    disabled={!product.availability}\n                                >\n                                    {product.availability ? 'Add to Cart' : 'Out of Stock'}\n                                </button>\n\n                                {/* Cart Message */}\n                                {cartMessage && <div className=\"alert alert-info mt-3\">{cartMessage}</div>}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}